Sys.time()
knitr::opts_chunk$set(echo = TRUE)
coverage <- read_csv("../data/KFF/healthcare-coverage.csv",
skip = 2, col_names = TRUE)
library(readr)
coverage <- read_csv("../data/KFF/healthcare-coverage.csv",
skip = 2, col_names = TRUE)
coverage <- read_csv("./data/KFF/healthcare-coverage.csv",
skip = 2, col_names = TRUE)
getwd()
coverage <- read_csv("./data/KFF/healthcare-coverage.csv",
skip = 2, col_names = TRUE)
knitr::opts_chunk$set(echo = TRUE)
unique(coverage$Location)
class(coverage$Location)
class(coverage$year)
class(spending$year)
knitr::opts_chunk$set(echo = TRUE)
knitr::include_graphics("https://aspe.hhs.gov/system/files/images-reports-basic/70441/fig1.jpg")
read_lines(file = "./data/KFF/healthcare-coverage.csv", n_max = 10)
library(tidyverse)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
tail(spending)
# Read the data using the `rear` package
coverage <- read_csv("./data/KFF/healthcare-coverage.csv",
skip = 2, col_names = TRUE,
n_max  = which(coverage$Location == "Notes")-1)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
tail(spending)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
tail(spending)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
# smallest
hc %>%
group_by(Location) %>%
summarise(avg_spending_capita = mean(spending_capita)) %>%
arrange(avg_spending_capita) %>%
head(n=3)
# Read the data using the `rear` package
coverage <- read_csv("./data/KFF/healthcare-coverage.csv",
skip = 2, col_names = TRUE)
coverage <- read_csv("./data/KFF/healthcare-coverage.csv",
skip = 2, col_names = TRUE,
n_max  = which(coverage$Location == "Notes")-1)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE)
spending <- read_csv("./data/KFF/healthcare-spending.csv",
skip = 2, col_names = TRUE,
n_max  = which(spending$Location == "Notes")-1)
# Convert the `coverage` and `spending` datasets from _wide_ to _long_ formats using the `tidyr` R package
coverage <- gather(coverage, "year_type", "tot_coverage", -Location)
spending <- gather(spending, "year", "tot_spending", -Location)
# Wrangle the datasets using some `dplyr` action verbs
coverage <-
coverage %>%
separate(year_type, sep="__", into=c("year", "type"), convert = TRUE) %>%
mutate_at("tot_coverage", as.integer)
spending <-
spending %>%
separate(year, sep="__", into=c("year", "name"), convert = TRUE) %>%
select(-name)
table(coverage$year)
table(spending$year)
hc <- left_join(coverage, spending, by = c("Location", "year"))
head(hc)
tail(hc)
hc <- right_join(coverage, spending, by = c("Location", "year"))
head(hc)
tail(hc)
hc <- inner_join(coverage, spending, by = c("Location", "year"))
head(hc)
tail(hc)
